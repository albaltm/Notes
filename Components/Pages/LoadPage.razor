@page "/"
@using AppNotes.Components.Layout
@using Firebase.Database
@inherits Global
@inject NavigationManager NavigationManager
@inject Microsoft.JSInterop.IJSRuntime JSRuntime
@layout EmptyLayout

@code {

    protected async override void OnInitialized()
    {
        var user = await JSRuntime.InvokeAsync<string>("localStorage.getItem", "user");
        if (string.IsNullOrWhiteSpace(user))
        {
            NavigationManager.NavigateTo("/login");
        }
        else
        {
            NavigationManager.NavigateTo("/calendar");
        }
    }
}